{% load static %}
{% load mathfilters %}

<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css" rel="stylesheet" />
        <script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>
        <link rel="stylesheet" href="{% static 'css/php.css' %}">
        <title>النظام الاداري | {{title}}</title>

    </head>
  <div>

  </div>
  <head>
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>

  </head>
  <body>
    <div class="p4">
      <div style="font-size: xx-large;"><center>البيان الاسبوعي</center></div>
      <div class="rf"><div style="font-size: large;">التاريخ : من {{friday|date:"Y-m-d"}} الى {{today|date:"Y-m-d"}}</div></div>
    </div>
    <hr>
    <div class="p4">
    <div style="font-size: x-large; "><center>المدخولات المالية</center></div>
    {% comment %} <br> {% endcomment %}
      <table class="table table-hover tp" style="width: 50%; z-index: 51;">
                    <tbody id="output1" style="width: 100%;">
                        <tr>
                            
                              <td style=" text-align:center; width: 25%;">{{week_income_last_week}}</td>
                              <td style=" text-align:center; width: 25%;"> رصيد منقول </td>
                              
                        </tr>
                         <tr>
                              
                              
                              <td style=" text-align:center;">{{week_income_company}}</td>
                              <td style=" text-align:center;"> دخل من يافا </td>
                              
                        </tr>
                         <tr>
                              
                              
                              <td style=" text-align:center;">{{iron_wight}}</td>
                              <td style=" text-align:center;">  دخل خدمات التوزين + بيع حديد  </td>
                             </tr>


                    </tbody>
            </table>
        
            <table class="table table-hover tp" style="width: 50%;">
                    <tbody id="output1" style="width: 100%;">

                      <tr>
                              <td style=" text-align:center;width: 25%;" >{{week_income_all}}</td>
                              <td style=" text-align:center; width: 25%;"> المجموع </td>
                              
                        </tr>
                    </tbody>
            </table>
    </div>
          <hr style="margin-top: 10px;width: 100%;z-index: 11;">
    <div class="p4">
    <div style="font-size: x-large; float: right;padding-right: 50px;"><center>: إدخلات الحديد</center></div>

    <div class="p4row">
 
    <div style="width: 50%;">
    <table class="table table-hover tp" >
                  <thead>
                        <tr>
                          <th style="width: ;"><center>السعر / ش</center></th>
                          <th style="width: ;"><center>التسعير / ش</center></th>
                          <th style="width: ;"><center>الكمية / كيلو</center></th>
                          <th style="width: ;"><center>اليوم</center></th>
                        </tr>
                      </thead>
              <tbody id="output1" style="width: 100%;">
                   
                      <tr>
                              <!-- <td style=" text-align:center;" >الرصيد المنقول عن الاسبوع السابق</td> -->
                              <td style=" text-align:center;width: 25%;" >{{week_iron_purchases_st_price}}</td>
                              {% if week_iron_purchases_st_price|mul:week_iron_purchases_st_quantity %}
                                <td style=" text-align:center; width: 25%;" >{{week_iron_purchases_st_price|div:week_iron_purchases_st_quantity|floatformat:2}}</td>
                              {% else %}
                                <td style=" text-align:center; width: 25%;" >0</td>
                              {% endif %}
                              <td style=" text-align:center; width: 25%;"> {{week_iron_purchases_st_quantity}} </td>
                              <td style=" text-align:center; width: 25%;"> السبت </td>
                              
                        </tr>
                        <tr>
                              <!-- <td style=" text-align:center;" >الرصيد المنقول عن الاسبوع السابق</td> -->
                              <td style=" text-align:center;width: 25%;" >{{week_iron_purchases_sn_price}}</td>
                              {% if week_iron_purchases_sn_price|mul:week_iron_purchases_sn_quantity %}
                                <td style=" text-align:center; width: 25%;" >{{week_iron_purchases_sn_price|div:week_iron_purchases_sn_quantity|floatformat:2}}</td>
                              {% else %}
                                <td style=" text-align:center; width: 25%;" >0</td>
                              {% endif %}
                              <td style=" text-align:center; width: 25%;">{{week_iron_purchases_sn_quantity}}</td>
                              <td style=" text-align:center; width: 25%;"> الاحد </td>
                              
                        </tr>
                        <tr>
                              <!-- <td style=" text-align:center;" >الرصيد المنقول عن الاسبوع السابق</td> -->
                              <td style=" text-align:center;width: 25%;" >{{week_iron_purchases_mn_price}}</td>
                              {% if week_iron_purchases_mn_price|mul:week_iron_purchases_mn_quantity %}
                                <td style=" text-align:center; width: 25%;" >{{week_iron_purchases_mn_price|div:week_iron_purchases_mn_quantity|floatformat:2}}</td>
                              {% else %}
                                <td style=" text-align:center; width: 25%;" >0</td>
                              {% endif %}
                              <td style=" text-align:center; width: 25%;">{{week_iron_purchases_mn_quantity}}</td>
                              <td style=" text-align:center; width: 25%;"> الاثنين </td>
                              
                        </tr>
                         <tr>
                              
                              <td style=" text-align:center;width: 25%;" >{{week_iron_purchases_ty_price}}</td>
                              {% if week_iron_purchases_ty_price|mul:week_iron_purchases_ty_quantity %}
                                <td style=" text-align:center; width: 25%;" >{{week_iron_purchases_ty_price|div:week_iron_purchases_ty_quantity|floatformat:2}}</td>
                              {% else %}
                                <td style=" text-align:center; width: 25%;" >0</td>
                              {% endif %}
                              <td style=" text-align:center; width: 25%;">{{week_iron_purchases_ty_quantity}}</td>
                              <td style=" text-align:center;"> الثلاثاء </td>
                              
                        </tr>
                         <tr>
                              
                              <td style=" text-align:center;width: 25%;" >{{week_iron_purchases_wn_price}}</td>
                              {% if week_iron_purchases_wn_price|mul:week_iron_purchases_wn_quantity %}
                                <td style=" text-align:center; width: 25%;" >{{week_iron_purchases_wn_price|div:week_iron_purchases_wn_quantity|floatformat:2}}</td>
                              {% else %}
                                <td style=" text-align:center; width: 25%;" >0</td>
                              {% endif %}
                              <td style=" text-align:center; width: 25%;">{{week_iron_purchases_wn_quantity}}</td>
                              <td style=" text-align:center;"> الاربعاء  </td>
                              <!-- <td style=" text-align:center;">2 </td> -->
                        </tr>
                        <tr>
                              <!-- <td style=" text-align:center;" >الكمية المباعة : <?php echo $sadda24 ;100 كيلو</td> -->
                              <td style=" text-align:center;width: 25%;" >{{week_iron_purchases_te_price}}</td>
                              {% if week_iron_purchases_te_price|mul:week_iron_purchases_te_quantity %}
                                <td style=" text-align:center; width: 25%;" >{{week_iron_purchases_te_price|div:week_iron_purchases_te_quantity|floatformat:2}}</td>
                              {% else %}
                                <td style=" text-align:center; width: 25%;" >0</td>
                              {% endif %}
                              <td style=" text-align:center; width: 25%;">{{week_iron_purchases_te_quantity}}</td>
                              <td style=" text-align:center;"> الخميس  </td>
                              <!-- <td style=" text-align:center;">3 </td> -->
                        </tr>

              </tbody>
    </table>
            
            <table class="table table-hover tp">
                    <tbody id="output1" style="width: 100%;">

                      <tr>
                              <!-- <td style=" text-align:center;" >الرصيد المنقول عن الاسبوع السابق</td> -->
                              <td style=" text-align:center;width: 25%;" >{{week_iron_purchases_price}}</td>
                              {% if week_iron_purchases_price|mul:week_iron_purchases_quantity %}
                                <td style=" text-align:center; width: 25%;" >{{week_iron_purchases_price|div:week_iron_purchases_quantity|floatformat:2}}</td>
                              {% else %}
                                <td style=" text-align:center; width: 25%;" >0</td>
                              {% endif %}
                              <td style=" text-align:center; width: 25%;">{{week_iron_purchases_quantity}}</td>
                              <td style=" text-align:center; width: 25%;"> المجموع </td>
                              
                        </tr>
                    </tbody>
            </table>
      </div>
      <div class="d1" style="width: 100%; height: 400px;">
        <canvas id="myChart" width="100" height="100" style="width: 100%;"></canvas>

        </div>
      </div>

    </div>
    <hr>
    <div class="p4">
    <div style="font-size: x-large; float: right;padding-right: 50px;"><center>: تصدير الحديد</center></div>

    <div class="p4row pr">
 
    <div style="width: 100%;">
    <table class="table table-hover tp" >
                  <thead>
                        <tr>
                          <th style="width: ;"><center>المخلات</center></th>
                          <th style="width: ;"><center>المشاطيح</center></th>
                          <th style="width: ;"><center>اليوم</center></th>
                        </tr>
                      </thead>
              <tbody id="output1" style="width: 100%;">
                   

                        <tr>
                              <td style=" text-align:center; width: 25%;" >{{export_st_output_type2}}</td>
                              <td style=" text-align:center; width: 25%;" >{{export_st_output}}</td>
                              
                              <td style=" text-align:center; width: 25%;"> السبت </td>
                        </tr>

                        <tr>
                          <td style=" text-align:center; width: 25%;" >{{export_sn_output_type2}}</td>
                          <td style=" text-align:center; width: 25%;" >{{export_sn_output}}</td>
                          
                          <td style=" text-align:center; width: 25%;"> الاحد </td>
                        </tr>

                        <tr>
                          <td style=" text-align:center; width: 25%;" >{{export_mn_output_type2}}</td>
                          <td style=" text-align:center; width: 25%;" >{{export_mn_output}}</td>
                          
                          <td style=" text-align:center;"> الاثنين </td>
                      </tr>

                         <tr>
                              <td style=" text-align:center; width: 25%;" >{{export_ty_output_type2}}</td>
                              <td style=" text-align:center; width: 25%;" >{{export_ty_output}}</td>
                              <td style=" text-align:center;"> الثلاثاء </td>
                        </tr>

                        <tr>
                              <td style=" text-align:center; width: 25%;" >{{export_wn_output_type2}}</td>
                          <td style=" text-align:center; width: 25%;" >{{export_wn_output}}</td>
                          <td style=" text-align:center;"> الاربعاء  </td>
                       </tr>
                        <tr>
                              <td style=" text-align:center; width: 25%;" >{{export_te_output_type2}}</td>
                              <td style=" text-align:center; width: 25%;" >{{export_te_output}}</td>
                              <td style=" text-align:center;"> الخميس  </td>
                        </tr>

              </tbody>
    </table>
            
            <table class="table table-hover tp">
                    <tbody id="output1" style="width: 100%;">

                      <tr>
                             
                              <td style=" text-align:center; width: 50%;">مجموع المخلات {{export_output_type2}}</td>
                              <td style=" text-align:center; width: 50%;"> مجموع المشاطيح : {{export_output}} </td>
                              
                        </tr>
                    </tbody>
            </table>
      </div>
      <div class="d1" style="width: 75%; height: 260px;">
        <canvas id="myChart4" width="100" height="100" style="width: 100%;"></canvas>

        </div>
      </div>

    </div>
    <br class="dsc">


<div class="p4">
    <div style="font-size: x-large; float: right;padding-right: 50px;"><center>: الخارجات المالية</center></div>
    <br><br>
    <div class="p4row pr">
      <div class="d2" style="width: 63%; height: 500px;">
        <canvas id="myChart2" width="100" height="100" style="width: 100%;"></canvas>

        </div>
    <div style="width: 50%;">
    <table class="table table-hover tp" >
                  <thead>
                        <tr>
                          <th style="width: ;"><center>المبلغ / ش</center></th>
                          <th style="width: ;"><center>البيان</center></th>
                          <th style="width: ;"><center>تسلسل</center></th>
                        </tr>
                      </thead>
              <tbody id="output1" style="width: 100%;">
                   
                      <tr>

                              <td style=" text-align:center; width: 25%;" >{{week_expenses_iron}}</td>
                              <td style=" text-align:center; width: 25%;"> شراء حديد </td>
                              <td style=" text-align:center; width: 25%;"> 1 </td>
                        </tr>
                        <tr>

                              <td style=" text-align:center; width: 25%;" >{{week_expenses_prpair_make}}</td>
                              <td style=" text-align:center; width: 25%;">تكاليف صيانة وانتاج</td>
                              <td style=" text-align:center; width: 25%;"> 2 </td>
                        </tr>
                        <tr>

                              <td style=" text-align:center; width: 25%;" >{{week_expenses_food}}</td>
                              <td style=" text-align:center; width: 25%;">تكاليف طعام</td>
                              <td style=" text-align:center; width: 25%;"> 3 </td>
                        </tr>
                         <tr>

                              <td style=" text-align:center; width: 25%;" >{{week_expenses_else}}</td>
                              <td style=" text-align:center; width: 25%;">اخرى</td>
                              <td style=" text-align:center;"> 4 </td>
                        </tr>


              </tbody>
    </table>
            <br>
            <table class="table table-hover tp">
                    <tbody id="output1" style="width: 100%;">

                      <tr>

                              <td style=" text-align:center; width: 50%;" >{{week_income_all}}</td>
                              <td style=" text-align:center; width: 50%;"> مجموع الداخل </td>
                        </tr>
                        <tr>

                      <td style=" text-align:center; width: 50%;" >{{week_expenses_all}}</td>
                      <td style=" text-align:center; width: 50%;"> مجموع الخارج </td>
                      </tr>
                      <tr>

                      <td style=" text-align:center; width: 50%;" >{{week_income_all|sub:week_expenses_all}}</td>
                      <td style=" text-align:center; width: 50%;"> المتبقي </td>
                      </tr>
                    </tbody>
            </table>
      </div>

      </div>

    </div>
<hr>
    <div class="p4">
    <div style="font-size: x-large; float: right;padding-right: 50px;"><center>: انتاج المكابس</center></div>
    <br><br>
    <div class="p4" style="align-items: flex-start;">

    <div style="width: 100%;">
    <table class="table table-hover tp" >
                  <thead>
                        <tr>
                          <th style="width: ;"><center>المتوسط</center></th>
                          <th style="width: ;"><center>الخميس</center></th>
                          <th style="width: ;"><center>الاربعاء</center></th>
                          <th style="width: ;"><center>الثلاثاء</center></th>
                          <th style="width: ;"><center>الاثنين</center></th>
                          <th style="width: ;"><center>الاحد</center></th>
                          <th style="width: ;"><center>السبت</center></th>
                          <th style="width: ;"><center>المكبس</center></th>
                        </tr>
                      </thead>
              <tbody id="output1" style="width: 100%;">
                   
                      <tr>

                        <th style="width: ;"><center>{{pistons1|div:6|floatformat:1}}</center></th>
                          <th style="width: ;"><center>{{pistons1_te}}</center></th>
                          <th style="width: ;"><center>{{pistons1_wn}}</center></th>
                          <th style="width: ;"><center>{{pistons1_ty}}</center></th>
                          <th style="width: ;"><center>{{pistons1_mn}}</center></th>
                          <th style="width: ;"><center>{{pistons1_sn}}</center></th>
                          <th style="width: ;"><center>{{pistons1_st}}</center></th>
                          <th style="width: ;"><center>مكبس 1</center></th>
                        </tr>
                        <tr>

                          <th style="width: ;"><center>{{pistons2|div:6|floatformat:1}}</center></th>
                          <th style="width: ;"><center>{{pistons2_te}}</center></th>
                          <th style="width: ;"><center>{{pistons2_wn}}</center></th>
                          <th style="width: ;"><center>{{pistons2_ty}}</center></th>
                          <th style="width: ;"><center>{{pistons2_mn}}</center></th>
                          <th style="width: ;"><center>{{pistons2_sn}}</center></th>
                          <th style="width: ;"><center>{{pistons2_st}}</center></th>
                          <th style="width: ;"><center>مكبس 2</center></th>
                        </tr>
                        <tr>

                        <th style="width: ;"><center>{{pistons3|div:6|floatformat:1}}</center></th>
                        <th style="width: ;"><center>{{pistons3_te}}</center></th>
                        <th style="width: ;"><center>{{pistons3_wn}}</center></th>
                        <th style="width: ;"><center>{{pistons3_ty}}</center></th>
                        <th style="width: ;"><center>{{pistons3_mn}}</center></th>
                        <th style="width: ;"><center>{{pistons3_sn}}</center></th>
                        <th style="width: ;"><center>{{pistons3_st}}</center></th>
                        <th style="width: ;"><center>مكبس 3</center></th>
                        </tr>

                        <tr>
                          <th style="width: ;"><center>{{pistons_week|div:6|floatformat:1}}</center></th>
                          <th style="width: ;"><center>{{pistons3_te|add:pistons2_te|add:pistons1_te}}</center></th>
                          <th style="width: ;"><center>{{pistons3_wn|add:pistons2_wn|add:pistons1_wn}}</center></th>
                          <th style="width: ;"><center>{{pistons3_ty|add:pistons2_ty|add:pistons1_ty}}</center></th>
                          <th style="width: ;"><center>{{pistons3_mn|add:pistons2_mn|add:pistons1_mn}}</center></th>
                          <th style="width: ;"><center>{{pistons3_sn|add:pistons2_sn|add:pistons1_sn}}</center></th>
                          <th style="width: ;"><center>{{pistons3_st|add:pistons2_st|add:pistons1_st}}</center></th>
                          <th style="width: ;"><center>المجموع</center></th>
                          </tr>
              </tbody>
    </table>
            <br>
            <table class="table table-hover tp">
                    <tbody id="output1" style="width: 100%;">

                      <tr>

                              <td style=" text-align:center; width: 50%;">مجموع انتاج الاسبوع السابق : {{pistons_last_week}}</td>
                              <td style=" text-align:center; width: 50%;"> مجموع انتاج الاسبوع الحالي : {{pistons_week}} </td>
                        </tr>
                    </tbody>
            </table>
      </div>
<br>
      
      <div class="d2" style="width: 75%;left: 0; height: 500px;">
        <canvas id="myChart3" width="100" height="100" style="width: 100%;"></canvas>

        </div>
      </div>

    </div>
<script>
      window.onload=function(){
        var ctx = document.getElementById("myChart").getContext("2d");
    var myChart = new Chart(ctx, {
      type: 'bar',
        data: {
            labels: ["السبت","الاحد","الاثنين","الثلاثاء","الاربعاء","الخميس","المتوسط"],
            datasets: [
                {
                    label: "الكمية",
                    data: [{{week_iron_purchases_st_quantity}},
                    {{week_iron_purchases_sn_quantity}},
                    {{week_iron_purchases_mn_quantity}},
                    {{week_iron_purchases_ty_quantity}},
                    {{week_iron_purchases_wn_quantity}},
                    {{week_iron_purchases_te_quantity}},
                    {{week_iron_purchases_quantity|div:6|floatformat:1}}],
                      backgroundColor: [
                      'rgb(51, 102, 204)',  // Bar 1
                      'rgb(51, 102, 204)',  // Bar 2
                      'rgb(51, 102, 204)',  // Bar 3
                      'rgb(51, 102, 204)',  // Bar 4
                      'rgb(51, 102, 204)', // Bar 5
                      'rgb(51, 102, 204)',   // Bar 6
                      'rgb(220, 57, 18)'   // Bar 7

                    ],

                }

            ],

        },
        plugins: [ChartDataLabels],
        
        options: {
                indexAxis: 'y',
          // Elements options apply to all of the options unless overridden in a dataset
          // In this case, we are setting the border of each horizontal bar to be 2px wide
          elements: {
            bar: {
              borderWidth: 2,
            }
          },
          plugins:{
            labels: {
                    fontcolor:'#fff',
                      render:'value',
                      position:'border',

                  },
          datalabels: {
                      color: "#fff",
                      anchor: 'center',
                      align :'center',
                      clamp: true
                    },


          },
                  responsive: true,
                  maintainAspectRatio: false,

        },

      })

    var ctx2 = document.getElementById("myChart2").getContext("2d");
    var myChart2 = new Chart(ctx2, {
      type: 'pie',
        data: {
            labels: ["شراء حديد","تكاليف صيانة","تكاليف انتاج","اخرى"],
            datasets: [
                {
                    label: "الاسبوع الحالي,الاعلى في الترتيب",
                    data: [
                    {{week_expenses_iron}},
                    {{week_expenses_prpair_make}},
                    {{week_expenses_food}},
                    {{week_expenses_else}}],
                    
                      backgroundColor: [
                      '#f5f5f5',  // Bar 1
                      'rgb(220, 57, 18)',  // Bar 2
                      '#ff9900',  // Bar 3
                      '#109618',  // Bar 4


                    ],
                    borderColor: [
                      '#363636',  // Bar 1
                      '#cfcfcf',  // Bar 2
                      '#828282',  // Bar 3
                      '#bebebe',  // Bar 4

                    ]

                },

            ],

        },
        plugins: [ChartDataLabels],
        
        options: {
                indexAxis: 'y',
          // Elements options apply to all of the options unless overridden in a dataset
          // In this case, we are setting the border of each horizontal bar to be 2px wide
          elements: {
            bar: {
              borderWidth: 2,
            }
          },
          plugins:{
          datalabels: {
                      color: ['#000','#fff','#fff','#fff'],
                      anchor: 'center',
                      align :'start',
                      clamp: true
                    },

                    labels: {
                      render:'percentge',
                      fontcolor: '#000',
                      position:'outside',
                      overlap: true,
                    }
          },
                  responsive: true,
                  maintainAspectRatio: false,

        },

      })
    

    var ctx3 = document.getElementById("myChart3").getContext("2d");
    var myChart3 = new Chart(ctx3, {
      type: 'bar',
        data: {
            labels: ["السبت","الاحد","الاثنين","الثلاثاء","الاربعاء","الخميس","المتوسط"],
            datasets: [
                {
                    label: "مكبس 1 ",
                    data: [
                    {{pistons1_st}},
                    {{pistons1_sn}},
                    {{pistons1_mn}},
                    {{pistons1_ty}},
                    {{pistons1_wn}},
                    {{pistons1_te}},
                    {{pistons1|div:6|floatformat:1}}],
                      backgroundColor: [
                      'rgb(51, 102, 204)',  // Bar 1
                      'rgb(51, 102, 204)',  // Bar 2
                      'rgb(51, 102, 204)',  // Bar 3
                      'rgb(51, 102, 204)',  // Bar 4
                      'rgb(51, 102, 204)', // Bar 5
                      'rgb(51, 102, 204)',   // Bar 6
                      'rgb(51, 102, 204)'   // Bar 7

                    ],

                },
                {
                  label: "مكبس 2",
                  data: [
                  {{pistons2_st}},
                  {{pistons2_sn}},
                  {{pistons2_mn}},
                  {{pistons2_ty}},
                  {{pistons2_wn}},
                  {{pistons2_te}},
                  {{pistons2|div:6|floatformat:1}}],
                      backgroundColor: [
                      '#f5f5f5',  // Bar 1
                      '#f5f5f5',  // Bar 2
                      '#f5f5f5',  // Bar 3
                      '#f5f5f5',  // Bar 4
                      '#f5f5f5', // Bar 5
                      '#f5f5f5',   // Bar 6
                      '#f5f5f5'   // Bar 7

                    ],
                    borderColor: "#000",
                },
                {
                  label: "مكبس 3",
                  data: [
                  {{pistons3_st}},
                  {{pistons3_sn}},
                  {{pistons3_mn}},
                  {{pistons3_ty}},
                  {{pistons3_wn}},
                  {{pistons3_te}},
                  {{pistons3|div:6|floatformat:1}}],
                      backgroundColor: [
                      '#000',  // Bar 1
                      '#000',  // Bar 2
                      '#000',  // Bar 3
                      '#000',  // Bar 4
                      '#000', // Bar 5
                      '#000',   // Bar 6
                      '#000'   // Bar 7

                    ],
                    borderColor: "#000",
                }
            ],

        },
        // plugins: [ChartDataLabels],
        
        options: {
                indexAxis: 'x',
          // Elements options apply to all of the options unless overridden in a dataset
          // In this case, we are setting the border of each horizontal bar to be 2px wide
          elements: {
            bar: {
              borderWidth: 2,
            }
          },
          plugins:{
            labels: {
                    fontcolor:'#fff',
                      render:'value',
                      position:'border',

                  },
          datalabels: {
                      color: "#000",
                      anchor: 'center',
                      align :'start',
                      clamp: true
                    },


          },
                  responsive: true,
                  maintainAspectRatio: false,

        },

      })
    
    var ctx4 = document.getElementById("myChart4").getContext("2d");

      var myChart4 = new Chart(ctx4, {
      type: 'bar',
        data: {
            labels: ["السبت","الاحد","الاثنين","الثلاثاء","الاربعاء","الخميس"],
            datasets: [
                {
                    label: "المشاطيح",
                    data: [
                    {{export_st_output}},
                    {{export_sn_output}},
                    {{export_mn_output}},
                    {{export_ty_output}},
                    {{export_wn_output}},
                    {{export_te_output}}
                    ],
                      backgroundColor: [
                      'rgb(220, 57, 18)',  // Bar 1
                      'rgb(220, 57, 18)',  // Bar 2
                      'rgb(220, 57, 18)',  // Bar 3
                      'rgb(220, 57, 18)',  // Bar 4
                      'rgb(220, 57, 18)', // Bar 5
                      'rgb(220, 57, 18)',   // Bar 6


                    ],

                },
                {
                  label: "المخلات",
                  data: [
                  {{export_st_output_type2}},
                  {{export_sn_output_type2}},
                  {{export_mn_output_type2}},
                  {{export_ty_output_type2}},
                  {{export_wn_output_type2}},
                  {{export_te_output_type2}}
                  ],
                    backgroundColor: [
                    '#f5f5f5',  // Bar 1
                    '#f5f5f5',  // Bar 2
                    '#f5f5f5',  // Bar 3
                    '#f5f5f5',  // Bar 4
                    '#f5f5f5', // Bar 5
                    '#f5f5f5',   // Bar 6


                  ],

              }
            ],

        },
        plugins: [ChartDataLabels],
        
        options: {
                indexAxis: 'y',
          // Elements options apply to all of the options unless overridden in a dataset
          // In this case, we are setting the border of each horizontal bar to be 2px wide
          elements: {
            bar: {
              borderWidth: 2,
            }
          },
          plugins:{
            labels: {
                    fontcolor:'#fff',
                      render:'value',
                      position:'border',

                  },
          datalabels: {
                      color: "#000",
                      anchor: 'center',
                      align :'start',
                      clamp: true
                    },


          },
                  responsive: true,
                  maintainAspectRatio: false,

        },

      })

    }
</script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-datalabels/2.0.0/chartjs-plugin-datalabels.min.js" integrity="sha512-R/QOHLpV1Ggq22vfDAWYOaMd5RopHrJNMxi8/lJu8Oihwi4Ho4BRFeiMiCefn9rasajKjnx9/fTQ/xkWnkDACg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://unpkg.com/chart.js-plugin-labels-dv/dist/chartjs-plugin-labels.min.js"></script>